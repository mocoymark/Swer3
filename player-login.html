<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sun Sep 17 2023 21:02:51 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="64f9717cdd44c9b55dbed492" data-wf-site="64e6f2c7fa3692d90d1b7012">
<head>
  <meta charset="utf-8">
  <title>Login</title>
  <meta content="Login" property="og:title">
  <meta content="Login" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="assets/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="assets/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="assets/css/swer3.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Poppins:100italic,200,300,regular,500,600,700,800","Nunito:200,300,regular,500,600,700,800,900"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  
  <link href="assets/images/SWER3_FAVI.png" rel="shortcut icon" type="image/x-icon">
    <link href="assets/images/SWER3_FAVI.png" rel="apple-touch-icon">
  <!-- check auth -->
  <script>
      // check auth
      var userEmail = localStorage.getItem('user_email');
      var userRole = localStorage.getItem('user_role');

      if (userEmail !== null || userRole !== null) {
        location.href='player-home.html';
      }else
      localStorage.clear();
      if (!location.hash) {
        location.hash = "#reloading";
        location.reload(true);
      } else {
        location.hash = "#reloaded";
      }
  </script>
  <!-- end check auth -->
</head>
<body>
  <div class="page-wrapper mobile">
    <div class="page-main mobile-page-main mobile-login">
      <div class="mob-screen-wrapper">
        <img src="assets/images/SWER3-HD-1.png" loading="lazy" alt="" class="icon-logo">
        <div class="padding-small"></div>

        <div data-current="Tab 1" data-easing="ease" data-duration-in="300" data-duration-out="100" class="mobile-login-card w-tabs">
          <div class="mobile-login-card_tabs-menu w-tab-menu">
            <a data-w-tab="Tab 1" class="mobile-login-card_tab-link w-inline-block w-tab-link w--current">
              <div>Login</div>
            </a>
            <a data-w-tab="Tab 2" class="mobile-login-card_tab-link w-inline-block w-tab-link">
              <div>Sign Up</div>
            </a>
          </div>
          <div class="mobile-login-card_tabs-content w-tab-content">
            <div data-w-tab="Tab 1" class="mobile-login-card_tabs-pane w-tab-pane w--tab-active">
              <!-- LOGIN FORM -->
              <div class="mobile-login-wrapper">
                <div class="w-embed">
                  <input type="email" class="textfield mobile-login" id="loginEmail" placeholder="Email Address">
                </div>
                <div class="padding-small"></div>
                <div class="input-wrapper w-embed">
                  <input type="password" class="textfield mobile-login pass-show" id="loginPass" placeholder="Password">
                  <div class="eye-link">
                    <img src="assets/images/Hide.svg" alt="">
                  </div>
                </div>
                <div class="content-right">
                  <a id="forgot-password" class="mobile-text">Forgot Password?</a>
                </div>
                <div class="padding-small"></div>
                <a id="loginBtn" class="btn-primary w-button">Login</a>
              </div>
            </div>
            <div data-w-tab="Tab 2" class="mobile-login-card_tabs-pane w-tab-pane">
              <div class="mobile-login-wrapper">
                <div class="w-embed">
                  <!-- sign up email input -->
                  <input type="email" id="signUpEmail" class="textfield mobile-login" placeholder="Email Address">
                </div>
                <div class="padding-small"></div>
                <div class="sign-up-text-wrapper">
                  <p class="mobile-text mb-0">You’re about to Sign up to Swer3, we’ll be asking your personal information for registration purposes. Please click the button to continue</p>
                </div>
                <div class="padding-small"></div>
                <!-- sign up button -->
                <a id="signUpBtn" class="btn-primary w-button">Sign Up</a>
              </div>
            </div>
          </div>
        </div>

        <!-- reset modal -->
        <div class="modal add-user" id="add-user-mdal">
          <div class="modal-inner draw-container">
            <div class="login-form-container">
              <h1 class="h4 add-new-user">Reset Password</h1>
              <div class="admin-credentials-wrapper">
                <div class="login-embed-wrapper w-embed">
                  <div class="input-wrapper mb-i">
                    <p class="h6">Note: Kindly check your email address for the reset code.</p>
                  </div>
                  <div class="input-wrapper mb-i">
                    <h5 class="h6">Email: </h5>
                    <input disabled type="text" id="user-email" name="user-email" class="textfield not-allowed" placeholder="">
                  </div>
    
                  <div class="input-wrapper mb-i">
                    <h5 class="h6">Reset Code: </h5>
                    <input type="text" id="reset-code" name="reset-code" class="textfield" placeholder="Enter reset code">
                  </div>
                 
                  <div class="input-wrapper mb-i">
                    <h5 class="h6">New Password: </h5>
                    <div class="input-wrapper">
                      <input type="password" id="new-password" name="admin-username" class="textfield pass-show" placeholder="Password">
                      <div class="eye-link">
                        <img src="assets/images/Hide.svg" alt="">
                      </div>
                    </div>
                  </div>
                  <div class="input-wrapper mb-i">
                    <h5 class="h6">Confirm Password: </h5>
                    <div class="input-wrapper">
                      <input type="password" id="re-typed-password" name="admin-username" class="textfield pass-show" placeholder="Confirm Password">
                      <div class="eye-link">
                        <img src="assets/images/Hide.svg" alt="">
                      </div>
                    </div>
                  </div>
          
                </div>
    
                <div class="btn-add-container modal-btn">
                  <a id="confirm-reset-btn" href="#" class="btn-primary add-btn w-inline-block">
                    <div>Confirm</div>
                  </a>
                </div>
              </div>
            </div>
            <a href="#" id="exit1">
              <img src="assets/images/remove_1828843-1.svg" loading="lazy" alt="" class="modal-close-button">
            </a>
          </div>
        </div>
        <!-- end of reset modal -->

      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64e6f2c7fa3692d90d1b7012" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="assets/js/webflow.js" type="text/javascript"></script>
  <script src="assets/js/local_routes.js" type="text/javascript"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <!-- Swal -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    
    $(document).ready(function(){
      
      
      $('#exit1').click(function(){
        $('#add-user-mdal').css('display', 'none')
      })

      $("#confirm-reset-btn").click(function() {
        var userEmail = $('#user-email').val();
        var userResetCode = $('#reset-code').val();
        var userNewPassword = $('#new-password').val();
        var userConfirmPassword = $('#re-typed-password').val();

        var generatedCode = window.localStorage.getItem('resetCode');

        if (generatedCode === userResetCode) {
          console.log('matched code');
          if (userNewPassword === userConfirmPassword) {
            console.log('matched password');
            var dataForm = new FormData();

            dataForm.append("username", userEmail);
            dataForm.append("password", userConfirmPassword);

            var xhr = new XMLHttpRequest(); // request for back end
            xhr.open("POST", PLAYER_API.UPDATE_USER_PASSWORD); // open connection for back end
            xhr.onload = function(){ // return from backend
              // this.response return data from back end
              if(this.response !== '404'){
                console.log('Login Success');
                $("#add-user-mdal").hide();
                Swal.fire({
                  icon: 'success',
                  title: 'Your new password has been saved',
                  showConfirmButton: false,
                  timer: 1500
                });

                //Clear any existing local storage residue
                window.localStorage.clear();
                location.reload();
              }
            }
            xhr.send(dataForm); // connect to backend
          } else {
            $("#add-user-mdal").hide();
            Swal.fire({
              icon: 'error',
              title: 'Password Mismatch!',
              text: 'Try again.',
              confirmButtonColor: '#DD31A6'
            }).then((result) => {
              console.log('asdadasd');
              if (result){
                // Put your function here
                $("#add-user-mdal").show();
              }
            });
          }
        } else {
          $("#add-user-mdal").hide();
          Swal.fire({
            icon: 'error',
            title: 'Invalid Reset Code!',
            text: 'Try again.',
            confirmButtonColor: '#DD31A6'
          }).then((result) => {
              if (result){
                $("#add-user-mdal").show();
              }
          });;
        }
      });





      // Login Functions
      $("#forgot-password").click(async function(){
        const { value: email } = await Swal.fire({
          title: 'Input Email Address',
          input: 'email',
          inputLabel: 'Your Email Address',
          inputPlaceholder: 'Enter your Email Address',
          confirmButtonColor: '#DD31A6',
          showCancelButton: true,
        })

        if (email) {
          $('#reset-code').val('');
          $('#new-password').val('');
          $('#re-typed-password').val('');
          var dataForm = new FormData();
          var genCode = Math.floor(Math.random() * 900000) + 100000;
          window.localStorage.setItem('resetCode', genCode);
          dataForm.append("email", email);
          dataForm.append("genCode", genCode);

          var xhr = new XMLHttpRequest(); // request for back end
          xhr.open("POST", PLAYER_API.CHECK_EMAIL); // open connection for back end
          xhr.onload = function(){ // return from backend
            // this.response return data from back end
            console.log(this.response);
            if(this.response === 'exists') {
              console.log('Email Exists');
              $("#add-user-mdal").show();
              $('#user-email').val(email);
            } else {
              Swal.fire({
                icon: 'error',
                title: 'Invalid Email!',
                text: 'Try again.',
                confirmButtonColor: '#DD31A6'
              }).then((result) => {
                if (result){
                  // Put your function here
                }
              });
            }
          }
          xhr.send(dataForm); //connect to backend
        }
      })



      // Login Functions
      $("#loginBtn").click(function(){
        var loginEmail = $('#loginEmail').val();
        var loginPass = $('#loginPass').val();

        var dataForm = new FormData();
        dataForm.append("email", loginEmail);
        dataForm.append("password", loginPass);

        var xhr = new XMLHttpRequest();
        xhr.open("POST", PLAYER_API.FETCH_LOGIN_PLAYER);
        xhr.onload = function(){
          console.log(this.response)
          var result = JSON.parse(this.response)
          if(result.message == "success"){
            localStorage.setItem(`user_email`,`${result.email}`);
            localStorage.setItem(`user_role`,`${result.role}`);
            location.href='player-home.html'
          }else{
            Swal.fire("Invalid Input", result.message , "error");
          }
        }
        xhr.send(dataForm); 
      })


      // Sign Up Functions
      // Regular expression for email validation
      var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;

      $("#signUpBtn").click(function(){
        var signUpEmail = $('#signUpEmail').val();

        if(!signUpEmail){   // input checker if empty
          Swal.fire("Empty Email", "Please input your email" , "error");
          return;
        }else if(!emailPattern.test(signUpEmail)) { // email checker
          Swal.fire("Invalid Email", "Please input an email" , "error");
          return;
        }
        window.location.href = "player-signup.html?email=" + signUpEmail;
      });
      // end if sign up func







      // show pass
      
      $(".eye-link").click(function() {
        var passwordField = $(".pass-show");
        // Check the current type of the input field
        if (passwordField.attr("type") === "password") {
          // If it's currently a password field, change it to text
          passwordField.attr("type", "text");
        } else {
          // If it's currently a text field, change it back to password
          passwordField.attr("type", "password");
        }
      })
      // end of show pass


    });
  </script>
</body>
</html>