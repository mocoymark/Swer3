<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sun Sep 17 2023 21:02:51 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="64f9729883d5fe550617facd" data-wf-site="64e6f2c7fa3692d90d1b7012">
<head>
  <meta charset="utf-8">
  <title>Home</title>
  <meta content="Home" property="og:title">
  <meta content="Home" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="assets/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="assets/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="assets/css/swer3.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Poppins:100italic,200,300,regular,500,600,700,800","Nunito:200,300,regular,500,600,700,800,900"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>

  <link href="assets/images/SWER3_FAVI.png" rel="shortcut icon" type="image/x-icon">
    <link href="assets/images/SWER3_FAVI.png" rel="apple-touch-icon">
</head>
<body class="body">
  <div class="page-wrapper mobile home">
    <div class="bet-summary-style w-embed">
      <style>
      .youtube-live {
        max-width: 320px;
        margin: auto;
        height: 230px;
        border-radius: 15px;
        overflow: hidden;
        position: relative;
      }
      #exit1 {
        width: 30px;
        height: 30px;
        position: relative;
        z-index: 1;
      }
      .yt_click{
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 1;
      }
      .modal_youtube-live{
        padding: 0;
      }
      .exit_yt-live{
        width: 100%;
        height: 70px;
        padding: 16px;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1;

        display: flex;
        justify-content: center;
        align-items: center;
      }
      @media screen and (max-width: 479px){
        .exit_yt-live{
          justify-content: flex-end;
          /* justify-content: end; */
        }
      }
      .mob-container{
        position: relative;
      }

      .bets-summary-table {
        font-family:"Poppins";
        border-collapse: collapse;
        width: 100%;
      }
      .bets-summary-table td, .bets-summary-table th {
        font-size:16px;
        font-weight:500;
        border: 1px solid #ddd;
        padding: 8px;
        text-align:center;
        border:none;
      }
      .bets-summary-table
      .bets-summary-table tr:hover {background-color: #ddd;}
      .bets-summary-table th {
        padding-top: 12px;
        padding-bottom: 12px;
        text-align: left;
        color: rgba(37, 37, 37, .5);
        text-align:center;
      }
      </style>
    </div>
    <div class="page-main home">
      <div class="bets-masthead" >
        <div class="profile-container" style="display: flex;">
          <img src="assets/images/SWER3-PNG.png" alt="" style="width: 53px; height: 53px; margin-top: 20px;">
          <div style="padding: .5rem;"></div>
          <div>
            <h3 class="head-profile">Hi <span id="full_name"></span>!</h3>
            <h3 class="head-profile small">Hereâ€™s what you need to know</h3>
          </div>
        </div>
      </div>
      <div style="padding: 1rem;"></div>
      <!-- DRAW RESULT -->
      <div id="drawResults" class="mob-bets-content mb-2 home">

        <div class="bets-card draw-container shadow _2">
          <div class="bets-wrap _2">
            <div class="bets-draw-time">
              <div class="text-style-1 to-dark">
                <div class="skeleton skeleton-text"></div>
              </div>
              <div class="draw-time-text">Draw Result</div>
            </div>
            <div class="evening-icon-wrapper skeleton">
              <img src="" loading="lazy" alt="">
            </div>
          </div>
          <div style="padding: .25rem;"></div>
          <div class="draw-time-container">
            <div class="draw-cutoff-time">
              <div class="draw-time-block">
                <h1 class="head-winner">
                  <div class="skeleton skeleton-text"></div>
                </h1>
                <div class="flex-h-winner">
                  <h3 class="head-total">Total Winners</h3>
                  <div style="padding: .5rem;"></div>
                  <h3 class="head-total">
                    <div class="skeleton skeleton-text"></div>
                  </h3>
                </div>
              </div>
              <div class="draw-time-block">
                <div class="text-12px medium textlight">
                  <div class="skeleton skeleton-text"></div>
                </div>
                <div class="text-12px medium textlight align-right">
                  <div class="skeleton skeleton-text"></div>                  
                </div>
              </div>
            </div>
            <div class="gray-line"></div>
            <div>
              <div class="table-wrapper mob w-embed">
                <table class="bets-summary-table">
                  <thead>
                    <tr>
                      <th>Play</th>
                      <th>Winners</th>
                      <th>Prize</th>
                    </tr>
                  </thead>
                  <tbody id="bet-summary">
                    <tr>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <a href="./player-home-see-more.html" class="see-more-result">See More Draw Results</a>
          </div>
        </div>
        
        <div style="padding: .5rem;"></div>

        
        <div class="bets-card draw-container shadow _2">
          <div class="bets-wrap _2">
            <div class="bets-draw-time">
              <div class="text-style-1 to-dark">
                <div class="skeleton skeleton-text"></div>
              </div>
              <div class="draw-time-text">Draw Result</div>
            </div>
            <div class="evening-icon-wrapper">
              <img src="" loading="lazy" alt="">
            </div>
          </div>
          <div style="padding: .25rem;"></div>
          <div class="draw-time-container">
            <div class="draw-cutoff-time">
              <div class="draw-time-block">
                <h1 class="head-winner">
                  <div class="skeleton skeleton-text"></div>
                </h1>
                <div class="flex-h-winner">
                  <h3 class="head-total">Total Winners</h3>
                  <div style="padding: .5rem;"></div>
                  <h3 class="head-total">
                    <div class="skeleton skeleton-text"></div>
                  </h3>
                </div>
              </div>
              <div class="draw-time-block">
                <div class="text-12px medium textlight">
                  <div class="skeleton skeleton-text"></div>
                </div>
                <div class="text-12px medium textlight align-right">
                  <div class="skeleton skeleton-text"></div>                  
                </div>
              </div>
            </div>
            <div class="gray-line"></div>
            <div>
              <div class="table-wrapper mob w-embed">
                <table class="bets-summary-table">
                  <thead>
                    <tr>
                      <th>Play</th>
                      <th>Winners</th>
                      <th>Prize</th>
                    </tr>
                  </thead>
                  <tbody id="bet-summary">
                    <tr>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <a href="./player-home-see-more.html" class="see-more-result">See More Draw Results</a>
          </div>
        </div>
        
        <div style="padding: .5rem;"></div>

        
        <div class="bets-card draw-container shadow _2">
          <div class="bets-wrap _2">
            <div class="bets-draw-time">
              <div class="text-style-1 to-dark">
                <div class="skeleton skeleton-text"></div>
              </div>
              <div class="draw-time-text">Draw Result</div>
            </div>
            <div class="evening-icon-wrapper">
              <img src="" loading="lazy" alt="">
            </div>
          </div>
          <div style="padding: .25rem;"></div>
          <div class="draw-time-container">
            <div class="draw-cutoff-time">
              <div class="draw-time-block">
                <h1 class="head-winner">
                  <div class="skeleton skeleton-text"></div>
                </h1>
                <div class="flex-h-winner">
                  <h3 class="head-total">Total Winners</h3>
                  <div style="padding: .5rem;"></div>
                  <h3 class="head-total">
                    <div class="skeleton skeleton-text"></div>
                  </h3>
                </div>
              </div>
              <div class="draw-time-block">
                <div class="text-12px medium textlight">
                  <div class="skeleton skeleton-text"></div>
                </div>
                <div class="text-12px medium textlight align-right">
                  <div class="skeleton skeleton-text"></div>                  
                </div>
              </div>
            </div>
            <div class="gray-line"></div>
            <div>
              <div class="table-wrapper mob w-embed">
                <table class="bets-summary-table">
                  <thead>
                    <tr>
                      <th>Play</th>
                      <th>Winners</th>
                      <th>Prize</th>
                    </tr>
                  </thead>
                  <tbody id="bet-summary">
                    <tr>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                      <td>
                        <div class="skeleton skeleton-text"></div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <a href="./player-home-see-more.html" class="see-more-result">See More Draw Results</a>
          </div>
        </div>
        
        <div style="padding: .5rem;"></div>

      </div>
      <!-- END OF DRAW RESULT -->



      <div class="padding-flow"></div>

      <div class="mobile-navbar">
        <a href="./player-home.html" class="mobile-nav-link bet w-inline-block"><img src="assets/images/Group-1_1.svg" loading="lazy" alt="">
          <div class="text-12px bold">Home</div>
        </a>
        <a href="./player-bets.html" class="mobile-nav-link w-inline-block"><img src="assets/images/Vector_1.svg" loading="lazy" alt="">
          <div class="text-12px">Bets</div>
        </a>
        <a href="./player-live.html" class="mobile-nav-link w-inline-block">
          <img src="assets/images/live-nav.svg" loading="lazy" alt="" class="live-nav">
          <div class="text-12px ">Live Draw</div>
        </a>
        <a href="./player-history.html" class="mobile-nav-link w-inline-block"><img src="assets/images/Group-1.svg" loading="lazy" alt="">
          <div class="text-12px ">History</div>
        </a>
        <a href="#" id="accountNav" class="mobile-nav-link w-inline-block">
          <img src="assets/images/layer1.svg" loading="lazy" alt="">
          <div class="text-12px ">Account</div>
        </a>
      </div>

      <!-- NOTIFICATION UI -->
      <div class="notification-card">
        <img src="assets/images/notif-icon.svg" loading="lazy" alt="">
        <div style="padding: .25rem;"></div>
        <div class="notif-content">
          <div class="notif-title">Swer3 CA 3D Play</div>
          <div id="notif-info" class="text-12px medium textlight">Get ready, the live draw will start at soon!</div>
          <div style="padding: .25rem;"></div>
          <div id="notif-btn" class="btn-primary small">OK</div>
        </div>
      </div>
      <!-- END OF NOTIFICATION UI -->
      
    </div>

  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64e6f2c7fa3692d90d1b7012" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="assets/js/webflow.js" type="text/javascript"></script>
  <script src="assets/js/local_routes.js" type="text/javascript"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

  <script>
    
    $(document).ready(function() {
      // GEN FUNC
      function convertToMilitaryTime(timeString) {
        // Split the time string into hours, minutes, and seconds
        const [time, period] = timeString.split(' ');
        const [hours, minutes, seconds] = time.split(':');

        // Convert hours to a number
        let militaryHours = parseInt(hours, 10);

        // Check if it's PM and not noon (12:xx:xx PM)
        if (period === 'PM' && militaryHours !== 12) {
          militaryHours += 12;
        }
        // END OF GEN FUNC

        // Format hours, minutes, and seconds as two-digit strings
        const militaryHoursStr = militaryHours.toString().padStart(2, '0');
        const minutesStr = minutes.padStart(2, '0');
        const secondsStr = seconds.split(' ')[0].padStart(2, '0');

        // Combine and return the military time
        return `${militaryHoursStr}:${minutesStr}:${secondsStr}`;
      }


      // check auth
      var userEmail = localStorage.getItem('user_email');
      var userRole = localStorage.getItem('user_role');

      if (userEmail === null || userRole === null) {
        location.href='player-login.html';
        localStorage.clear();
      }




      // role check
      if(userRole === 'Player') {
        $('#accountNav').attr('href', 'player-account.html');
      }else $('#accountNav').attr('href', 'coordinator-account.html');




      // get info
      var dataForm = new FormData();
      dataForm.append("email", userEmail);

      var xhr = new XMLHttpRequest();
      xhr.open("POST", PLAYER_API.FETCH_PLAYER_INFO);
      xhr.onload = function(){
        var result = JSON.parse(this.response)
        if(result.message == "success"){
          $('#full_name').html(result.full_name.split(" ")[0]);
        }else{
          swal("Invalid Request", "Something went wrong." , "error");
          localStorage.clear();
          location.href='player-login.html';
          return;
        }
      }
      xhr.send(dataForm); 


      

      // get draws
      var xhr = new XMLHttpRequest();
      xhr.open("POST", PLAYER_API.FETCH_TODAY_DRAW);
      xhr.onload = function(){
        var result = JSON.parse(this.response)
        var betNum = {
          0: '1st',
          1: '2nd',
          2: '3rd'
        }
        var betImg = {
          '1:00 PM': 'sun_4814268-1-1.png',
          '5:00 PM': 'Group-3.png',
          '6:00 PM': 'Group-3.png',
          '9:00 PM': 'Layer_x0020_1.svg',
          '11:00 PM': 'Layer_x0020_1.svg',
        }
        // console.log(this.response)
        $('#drawResults').html('')
        for (var i = 0; i < result.length ; i ++) {
          var dateTime = moment(result[i].draw_sched, "YYYY-MM-DD HH:mm:ss");
          var timeFormat = dateTime.format("h:mm A");
          var dateFormat = dateTime.format('MM/DD/YY');
          $('#drawResults').append(`
            <div class="bets-card draw-container shadow _2">
              <div class="bets-wrap _2">
                <div class="bets-draw-time">
                  <div class="text-style-1 to-dark">`+timeFormat+`</div>
                  <div class="draw-time-text">Draw Result</div>
                </div>
                <div class="evening-icon-wrapper">
                  <img src="assets/images/`+betImg[timeFormat]+`" loading="lazy" alt="">
                </div>
              </div>
              <div style="padding: .25rem;"></div>
              <div class="draw-time-container">
                <div class="draw-cutoff-time">
                  <div class="draw-time-block">
                    <h1 class="head-winner">`+ (result[i].result == null ? 'TBA' : result[i].result) +`</h1>
                    <div class="flex-h-winner">
                      <h3 class="head-total">Total Winners</h3>
                      <div style="padding: .5rem;"></div>
                      <h3 class="head-total">`+result[i].users_wins+`</h3>
                    </div>
                  </div>
                  <div class="draw-time-block">
                    <div class="text-12px medium textlight">`+ 
                      timeFormat
                    +` ET</div>
                    <div class="text-12px medium textlight align-right">`+
                      dateFormat
                    +`</div>
                  </div>
                </div>
                <div class="gray-line"></div>
                <div>
                  <div class="table-wrapper mob w-embed">
                    <table class="bets-summary-table">
                      <thead>
                        <tr>
                          <th>Play</th>
                          <th>Winners</th>
                          <th>Prize</th>
                        </tr>
                      </thead>
                      <tbody id="bet-summary">
                        <tr>
                          <td>Straight Play</td>
                          <td>`+result[i].straight_wins+`</td>
                          <td>$`+result[i].straight_prize.toFixed(2)+`</td>
                        </tr>
                        <tr>
                          <td>Box Play</td>
                          <td>`+result[i].box_play_wins+`</td>
                          <td>$`+result[i].box_play_prize.toFixed(2)+`</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <a href="./player-home-see-more.html" class="see-more-result">See More Draw Results</a>
              </div>
            </div>
            <div style="padding: .5rem;"></div>
          `);
        }
      }
      xhr.send(dataForm); 
      // end of todays draw


      




      
      // incoming draw
      var xhr = new XMLHttpRequest();
      xhr.open("POST", PLAYER_API.FETCH_INCOMING_DRAW_PLAYER);
      xhr.onload = function(){
        var result = JSON.parse(this.response)
        console.log(result)
        if(result.length != 0){
          var dateTime = moment(result.draw_sched, "YYYY-MM-DD HH:mm:ss");
          var timeFormat = dateTime.format("h:mm A");
          var dateFormat = dateTime.format('MM/DD/YY');
          $('#live_title').html(result.description + ' Live')
          $('#live_time').html(timeFormat + " ET")
          $('#live_date').html(dateFormat)
          result.description
        }
      }
      xhr.send(); 
      // end of incoming draw






      // notification
      $('#notif-btn').click(function(){
        $('.notification-card').css('display', 'none');
      })
      setInterval(function(){
        const now = new Date();
        const options = { timeZone: 'America/Toronto', timeZoneName: 'short', hour12: false };
        const dateTimeString = now.toLocaleString('en-US', options);
        nowDateTime = dateTimeString.split(', ')
        nowDate = nowDateTime[0]
        nowTime = nowDateTime[1].split(' ')[0] + ' ' + nowDateTime[1].split(' ')[1]
        nowTime = convertToMilitaryTime(nowTime)
        var currentDatetime = new Date(nowDate + ' ' + nowTime).getTime();

        const coming1pmDraw = new Date(nowDate + ' 12:50:00').getTime();
        const sched1pmDraw = new Date(nowDate + ' 13:00:00').getTime();

        const coming5pmDraw = new Date(nowDate + ' 17:50:00').getTime();
        const sched5pmDraw = new Date(nowDate + ' 18:00:00').getTime();

        const coming9pmDraw = new Date(nowDate + ' 22:50:00').getTime();
        const sched9pmDraw = new Date(nowDate + ' 23:00:00').getTime();

        if (currentDatetime >= coming1pmDraw && currentDatetime < sched1pmDraw){
          if(localStorage.getItem(`user_notif`) != 'false'){
            $('.notification-card').css('display', 'flex');
            $('#notif-info').html('Get ready, the live draw will start at soon!');
            localStorage.setItem(`user_notif`, false);
          }
        } else if (currentDatetime == sched1pmDraw){
          $('.notification-card').css('display', 'flex');
          $('#notif-info').html('Live draw is now starting, go to Live Draw tab to watch.');
        } else if (currentDatetime >= coming5pmDraw && currentDatetime < sched5pmDraw){
          if(localStorage.getItem(`user_notif`) != 'false'){
            $('.notification-card').css('display', 'flex');
            $('#notif-info').html('Get ready, the live draw will start at soon!');
            localStorage.setItem(`user_notif`, false);
          }
        } else if (currentDatetime == sched5pmDraw){
          $('.notification-card').css('display', 'flex');
          $('#notif-info').html('Live draw is now starting, go to Live Draw tab to watch.');
        } else if (currentDatetime >= coming9pmDraw && currentDatetime < sched9pmDraw){
          if(localStorage.getItem(`user_notif`) != 'false'){
            $('.notification-card').css('display', 'flex');
            $('#notif-info').html('Get ready, the live draw will start at soon!');
            localStorage.setItem(`user_notif`, false);
          }
        } else if (currentDatetime == sched9pmDraw){
          $('.notification-card').css('display', 'flex');
          $('#notif-info').html('Live draw is now starting, go to Live Draw tab to watch.');
        } else {
          localStorage.removeItem(`user_notif`);
        }
      }, 1000);
      // end of notification

    })
  </script>
</body>
</html>