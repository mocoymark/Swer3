<!DOCTYPE html>
<!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sun Sep 17 2023 21:02:51 GMT+0000 (Coordinated Universal Time)  -->
<html
  data-wf-page="64f9735c4ca94e1802611e40"
  data-wf-site="64e6f2c7fa3692d90d1b7012"
>
  <head>
    <meta charset="utf-8" />
    <title>Live</title>
    <meta content="Live" property="og:title" />
    <meta content="Live" property="twitter:title" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="assets/css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/webflow.css" rel="stylesheet" type="text/css" />
    <link
      href="assets/css/swer3.webflow.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link
      href="https://fonts.gstatic.com"
      rel="preconnect"
      crossorigin="anonymous"
    />
    <script
      src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: [
            'Poppins:100italic,200,300,regular,500,600,700,800',
            'Nunito:200,300,regular,500,600,700,800,900',
          ],
        },
      })
    </script>
    <script type="text/javascript">
      !(function (o, c) {
        var n = c.documentElement,
          t = ' w-mod-'
        ;(n.className += t + 'js'),
          ('ontouchstart' in o ||
            (o.DocumentTouch && c instanceof DocumentTouch)) &&
            (n.className += t + 'touch')
      })(window, document)
    </script>
    <link
      href="assets/images/SWER3_FAVI.png"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link href="assets/images/SWER3_FAVI.png" rel="apple-touch-icon" />
    <style>
      h5 {
        margin: 0;
      }
      .yt-container {
        width: 100%;
        padding-top: 50%;
        min-height: 225px;
        position: relative;
      }
      .yt_live {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="page-wrapper mobile">
      <div class="page-main full">
        <div class="signup-wrapper">
          <div class="head-container" style="min-height: 0">
            <div class="signup-head-wrapper">
              <h1 class="head-signup">Live Draw</h1>

              <!-- <div class="back-btn-container">
              <img src="assets/images/Vector-7.png" loading="lazy" alt="">
              <div style="padding: .25rem;"></div>
              <a onclick="history.back()" class="back-btn">Back</a>
            </div> -->
            </div>
          </div>

          <!-- https://www.youtube.com/channel/UChQcwKx6iYVSe70qT-ne7fQ -->
          <div class="yt-container" id="yt-container">
            <iframe
              id="yt_live"
              class="yt_live"
              src="https://www.youtube.com/embed/playlist?list=PLqkKtRbD60eO-Y4khydWMuttOHq_VKl27"
              title="YouTube video player"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen
            ></iframe>
          </div>

          <div
            class="signup-form-wrapper"
            style="height: auto; padding-top: 1rem"
          >
            <div class="content-vcenter mb-1">
              <img
                src="assets/images/SWER3-PNG.png"
                alt=""
                style="width: 53px; height: 53px"
              />
              <div style="padding: 0.5rem"></div>
              <div>
                <h3
                  class="live-draw-heading"
                  id="live_title"
                  style="margin-bottom: 0.1rem"
                >
                  <div class="skeleton skeleton-text"></div>
                </h3>
                <div class="time-container">
                  <h5 class="time" id="live_time">
                    <div class="skeleton skeleton-text"></div>
                  </h5>
                  <h5 class="time date" id="live_date">
                    <div class="skeleton skeleton-text"></div>
                  </h5>
                </div>
              </div>
            </div>

            <div
              style="
                width: 100%;
                height: 1px;
                background: black;
                opacity: 0.1;
                margin-bottom: 1rem;
              "
            ></div>

            <h5 class="time date mb-1">Follow us on socials</h5>

            <div class="content-vcenter">
              <a
                href="https://www.youtube.com/@Swer3Canada"
                target="_blank"
                rel="noopener noreferrer"
              >
                <img src="assets/images/yt.png" alt="" />
              </a>

              <div style="padding: 0.5rem"></div>

              <a href="#" target="_blank" rel="noopener noreferrer">
                <img src="assets/images/fb.png" alt="" />
              </a>

              <div style="padding: 0.5rem"></div>

              <a
                href="https://www.tiktok.com/@swer3.ca"
                target="_blank"
                rel="noopener noreferrer"
              >
                <img src="assets/images/tiktok.png" alt="" />
              </a>
            </div>
          </div>
        </div>

        <div class="p-3"></div>

        <div class="mobile-navbar">
          <a href="./player-home.html" class="mobile-nav-link w-inline-block"
            ><img src="assets/images/Group-1.svg" loading="lazy" alt="" />
            <div class="text-12px">Home</div>
          </a>
          <a href="./player-bets.html" class="mobile-nav-link w-inline-block"
            ><img src="assets/images/Vector_1.svg" loading="lazy" alt="" />
            <div class="text-12px">Bets</div>
          </a>
          <a href="./player-live.html" class="mobile-nav-link w-inline-block">
            <img
              src="assets/images/live-nav.svg"
              loading="lazy"
              alt=""
              class="live-nav"
            />
            <div class="text-12px bold">Live Draw</div>
          </a>
          <a href="./player-history.html" class="mobile-nav-link w-inline-block"
            ><img src="assets/images/Group-1.svg" loading="lazy" alt="" />
            <div class="text-12px">History</div>
          </a>
          <a href="#" id="accountNav" class="mobile-nav-link w-inline-block">
            <img src="assets/images/layer1.svg" loading="lazy" alt="" />
            <div class="text-12px">Account</div>
          </a>
        </div>
      </div>
    </div>
    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64e6f2c7fa3692d90d1b7012"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="assets/js/webflow.js" type="text/javascript"></script>
    <script src="assets/js/local_routes.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script>
      $(document).ready(function () {
        function convertToMilitaryTime(timeString) {
          // Split the time string into hours, minutes, and seconds
          const [time, period] = timeString.split(' ')
          const [hours, minutes, seconds] = time.split(':')

          // Convert hours to a number
          let militaryHours = parseInt(hours, 10)

          // Check if it's PM and not noon (12:xx:xx PM)
          if (period === 'PM' && militaryHours !== 12) {
            militaryHours += 12
          }
          // END OF GEN FUNC

          // Format hours, minutes, and seconds as two-digit strings
          const militaryHoursStr = militaryHours.toString().padStart(2, '0')
          const minutesStr = minutes.padStart(2, '0')
          const secondsStr = seconds.split(' ')[0].padStart(2, '0')

          // Combine and return the military time
          return `${militaryHoursStr}:${minutesStr}:${secondsStr}`
        }

        // check auth
        var userEmail = localStorage.getItem('user_email')
        var userRole = localStorage.getItem('user_role')

        if (userEmail === null || userRole === null) {
          location.href = 'player-login.html'
          localStorage.clear()
        }

        // role check
        if (userRole === 'Player') {
          $('#accountNav').attr('href', 'player-account.html')
        } else $('#accountNav').attr('href', 'coordinator-account.html')

        // incoming draw
        var xhr = new XMLHttpRequest()
        xhr.open('POST', PLAYER_API.FETCH_INCOMING_DRAW_DELAY_1HR)
        xhr.onload = function () {
          var result = JSON.parse(this.response)
          console.log(result)
          if (result.length != 0) {
            var dateTime = moment(result.draw_sched, 'YYYY-MM-DD HH:mm:ss')
            // Format the parsed date and time as "1:00 PM"
            var timeFormat = dateTime.format('h:mm A')
            var dateFormat = dateTime.format('MM/DD/YY')

            const now = new Date()
            const options = {
              timeZone: 'America/Toronto',
              timeZoneName: 'short',
              hour12: false,
            }
            const dateTimeString = now.toLocaleString('en-US', options)
            nowDateTime = dateTimeString.split(', ')
            nowDate = nowDateTime[0]
            nowTime =
              nowDateTime[1].split(' ')[0] + ' ' + nowDateTime[1].split(' ')[1]
            nowTime = convertToMilitaryTime(nowTime)
            var currentDatetime = new Date(nowDate + ' ' + nowTime).getTime()

            const startReplay1pmDraw = new Date(nowDate + ' 13:10:00').getTime()
            const endReplay1pmDraw = new Date(nowDate + ' 13:30:00').getTime()

            const startReplay5pmDraw = new Date(nowDate + ' 18:10:00').getTime()
            const endReplay5pmDraw = new Date(nowDate + ' 18:30:00').getTime()

            const startReplay9pmDraw = new Date(nowDate + ' 23:10:00').getTime()
            const endReplay9pmDraw = new Date(nowDate + ' 23:30:00').getTime()

            if (
              currentDatetime >= startReplay1pmDraw &&
              currentDatetime <= endReplay1pmDraw
            ) {
              $('#live_title').html(result.description + ' Replay')
            } else if (
              currentDatetime >= startReplay5pmDraw &&
              currentDatetime <= endReplay5pmDraw
            ) {
              $('#live_title').html(result.description + ' Replay')
            } else if (
              currentDatetime >= startReplay9pmDraw &&
              currentDatetime <= endReplay9pmDraw
            ) {
              $('#live_title').html(result.description + ' Replay')
            } else {
              $('#live_title').html(result.description + ' Live')
            }

            $('#live_time').html(timeFormat + ' ET')
            $('#live_date').html(dateFormat)
          }
        }
        xhr.send()
        // end of incoming draw

        // document.addEventListener("DOMContentLoaded", () => {
        //   const apiKey = 'AIzaSyCoLs43DBxUj-PtTrXkyr9lL_8DhdZpFgU'; // Replace with your API key
        //   const channelId = 'UChQcwKx6iYVSe70qT-ne7fQ'; // Replace with the channel ID you want to check

        //   const apiUrl = `https://www.googleapis.com/youtube/v3/search?key=${apiKey}&channelId=${channelId}&eventType=upcoming&type=video&part=id`;
        //   const apiLiveUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${channelId}&type=video&eventType=live&key=${apiKey}`;

        //   fetch(apiLiveUrl)
        //     .then((response) => response.json())
        //     .then((data) => {
        //       if (data.items && data.items.length > 0) {
        //         const liveStreamId = data.items[0].id.videoId;
        //         const liveStreamUrl = `https://www.youtube.com/watch?v=${upcomingLiveStreamId}`;

        //         // Display the upcoming live stream URL
        //         const upcomingLiveStreamElement = document.getElementById('yt-container');
        //         upcomingLiveStreamElement.innerHTML = `
        //           <iframe
        //             id="yt_live"
        //             class="yt_live"
        //             src="https://www.youtube.com/embed/live_stream?channel=UChQcwKx6iYVSe70qT-ne7fQ"
        //             title="YouTube video player"
        //             frameborder="0"
        //             allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        //             allowfullscreen
        //           ></iframe>
        //         `;
        //       } else {
        //         // No upcoming live streams found
        //         const upcomingLiveStreamElement = document.getElementById('upcomingLiveStream');
        //         upcomingLiveStreamElement.innerHTML = '<p>No upcoming live streams found.</p>';
        //       }
        //     })
        //     .catch((error) => {
        //       console.error('Error fetching data:', error);
        //     });
        // });
      })
      // end of doc
    </script>
  </body>
</html>
