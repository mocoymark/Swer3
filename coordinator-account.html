<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sun Sep 17 2023 21:02:51 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6500cd590f67cd817e03d302" data-wf-site="64e6f2c7fa3692d90d1b7012">
<head>
  <meta charset="utf-8">
  <title>Coordinator Account</title>
  <meta content="Coordinator Account" property="og:title">
  <meta content="Coordinator Account" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="assets/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="assets/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="assets/css/swer3.webflow.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Poppins:100italic,200,300,regular,500,600,700,800","Nunito:200,300,regular,500,600,700,800,900"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="assets/images/SWER3_FAVI.png" rel="shortcut icon" type="image/x-icon">
    <link href="assets/images/SWER3_FAVI.png" rel="apple-touch-icon">
</head>
<body>
  <div class="page-wrapper mobile">
    <div class="bet-summary-style w-embed">
      <style>
.modal  {
  z-index: 2;
}
.bets-summary-table {
	font-family:"Poppins";
  border-collapse: collapse;
  width: 100%;
}
.bets-summary-table td, .bets-summary-table th {
	font-size:16px;
	font-weight:500;
  border: 1px solid #ddd;
  padding: 8px;
 	text-align:center;
  border:none;
}
.bets-summary-table
.bets-summary-table tr:hover {background-color: #ddd;}
.bets-summary-table th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
	color: rgba(37, 37, 37, .5);
  text-align:center;
}
</style>
    </div>
    <div class="page-main full">
      <div class="bets-masthead account">
        <!-- logout button -->
        <div class="logout-container">
          <a onclick="localStorage.clear(); location.href='player-login.html';" class="logout-wrapper">
            Logout <div style="padding: .5rem;"></div>
            <img src="assets/images/logout_992680-1-2.svg" loading="lazy" alt="">
          </a>
        </div>

        <div class="profile"><img src="assets/images/Group-4.png" loading="lazy" alt="" class="profile-pic">
          <h2 class="profile-name" id="full_name">loading...</h2>
          <h2 class="profile-name type" id="role">Invite Code: loading...</h2>
        </div>
        <div class="load-balance-wrapper shadow">
          <div class="load-values">
            <h3 class="head-balance">Load Balance</h3>
            <h1 class="total-balance-remain" id="load_wallet">loading...</h1>
          </div>
          <div>
            <img onclick="location.href='share-load.html'" src="assets/images/send_2099085-1.svg" loading="lazy" alt="" class="image-6">
          </div>
        </div>
        <div class="coord-details">
          <h3 class="head-contact">Share your load to players, click on Send icon above</h3>
          <a id="viewTransaction" class="transact-link">View Transactions</a>
        </div>
      </div>
      <div class="details-wrapper">
        <div class="my-profile-container">
          <h2 class="my-profile-head big">My Profile</h2>
          <img id="edit-profile" src="assets/images/edit-document_9533149-1-2.svg" loading="lazy" alt="">
        </div>
        <div class="gray-line"></div>
        <div class="details">
          <div class="details-container mb-1">
            <h2 class="my-profile-head small">Email Address</h2>
            <h2 class="details-values" id="email">loading...</h2>
          </div>
          <div class="details-container">
            <h2 class="my-profile-head small">Head</h2>
            <h2 class="details-values" id="head">loading...</h2>
          </div>
        </div>

        <div class="p-5"></div>

        <div class="mobile-navbar">
          <a href="./player-home.html" class="mobile-nav-link w-inline-block"><img src="assets/images/Group_1.svg" loading="lazy" alt="">
            <div class="text-12px bold">Home</div>
          </a>
          <a href="./player-bets.html" class="mobile-nav-link w-inline-block"><img src="assets/images/Vector_1.svg" loading="lazy" alt="">
            <div class="text-12px">Bets</div>
          </a>
          <a href="./player-live.html" class="mobile-nav-link w-inline-block">
            <img src="assets/images/live-nav.svg" loading="lazy" alt="" class="live-nav">
            <div class="text-12px ">Live Draw</div>
          </a>
          <a href="./player-history.html" class="mobile-nav-link w-inline-block"><img src="assets/images/Group-1.svg" loading="lazy" alt="">
            <div class="text-12px bold">History</div>
          </a>
          <a href="#" id="accountNav" class="mobile-nav-link bet w-inline-block">
            <img src="assets/images/path828-1.png" loading="lazy" alt="">
            <div class="text-12px bold">Account</div>
          </a>
        </div>
      </div>
    </div>
  </div>
  
  <!-- modal -->
  <div class="modal-bg accnt-mobile">
    <div class="success-msg accnt">
      <div class="modal-transact-text-1">Transaction History</div>
      <div id="transactions" class="transact-flow">

      </div>
      <div class="modal-btn-wrapper">
        <a id="backModal" class="modal-back w-inline-block"><img src="assets/images/Vector_2.svg" loading="lazy" alt="" class="arrow-back">
          <div>Back</div>
        </a>
      </div>
    </div>
  </div>
  <!-- end of modal -->
  
    <!-- modal -->
    <div class="modal add-user" id="edit-user-mdoal"">
      <div class="modal-inner draw-container">
        <div class="login-form-container">
          <h1 class="h4 add-new-user">Edit Your Profile</h1>
          <div class="admin-credentials-wrapper">
            <div class="login-embed-wrapper w-embed">
              <div class="input-wrapper mb-i">
                <h5 class="h6">Complete Name: </h5>
                <input type="text" id="completeName" name="admin-username" class="textfield" placeholder="Complete Name">
              </div>
              
              <div class="input-wrapper mb-i">
                <h5 class="h6">New Password: </h5>
                <div class="input-wrapper">
                  <input type="password" id="password" name="admin-username" class="textfield" placeholder="New Password">
                  <div class="eye-link">
                    <img src="assets/images/Hide.svg" alt="">
                  </div>
                </div>
              </div>
              <div class="input-wrapper mb-i">
                <h5 class="h6">Confirm Password: </h5>
                <div class="input-wrapper">
                  <input type="password" id="reTypedPassword" name="admin-username" class="textfield" placeholder="Confirm Password">
                  <div class="eye-link">
                    <img src="assets/images/Hide.svg" alt="">
                  </div>
                </div>
              </div>
      
              <div class="input-wrapper mb-i">
                <p class="h6">Note: if you don't want to change your password, just leave the password and confirm password empty.</p>
              </div>
            </div>
            
            <div class="btn-add-container modal-btn" style="align-self: center;">
              <a id="saveProfile" href="#" class="btn-primary add-btn w-inline-block">
                <div>Save</div>
              </a>
            </div>
          </div>
        </div>
        <a href="#" id="exit1">
          <img src="assets/images/remove_1828843-1.svg" loading="lazy" alt="" class="modal-close-button">
        </a>
      
      </div>
    </div>
    <!-- end of modal -->

  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64e6f2c7fa3692d90d1b7012" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="assets/js/webflow.js" type="text/javascript"></script>
  <script src="assets/js/local_routes.js" type="text/javascript"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <script>
    
    $(document).ready(function() {

      // check auth
      var userEmail = localStorage.getItem('user_email');
      var userRole = localStorage.getItem('user_role');

      if (userEmail === null || userRole === null) {
        location.href='player-login.html';
        localStorage.clear();
      }

      // role check
      if(userRole === 'Player') {
        $('#accountNav').attr('href', 'player-account.html');
      }else $('#accountNav').attr('href', 'coordinator-account.html');


      
      // get info
      var dataForm = new FormData();
      dataForm.append("email", localStorage.getItem('user_email'));

      var xhr = new XMLHttpRequest();
      xhr.open("POST", PLAYER_API.FETCH_PLAYER_INFO);
      xhr.onload = function(){
        var result = JSON.parse(this.response)
        if(result.message == "success"){
          $('#full_name').html(result.full_name)
          $('#completeName').val(result.full_name)
          $('#email').html(result.email)
          $('#head').html(result.head)
          $('#load_wallet').html('$' + result.load_wallet)
          $('#role').html('Invite Code: ' + result.invite_code)
        }else{
          swal("Invalid Request", result.message , "error");
        }
      }
      xhr.send(dataForm); 


      // get transactions
      var dataForm = new FormData();
      dataForm.append("email", localStorage.getItem('user_email'));

      var xhr = new XMLHttpRequest();
      xhr.open("POST", PLAYER_API.FETCH_LOAD_PLAYER);
      xhr.onload = function(){
        var result = JSON.parse(this.response)
        if(result.message){
          if(result.message == 'no records'){
            $('#transactions').html('No records')
            return;
          }
          swal("Invalid Request", result.message , "error");
          return;
        }else{
          for(const transaction of result){
            $('#transactions').append(`
              <div class="transactions">
                <div class="transact-name">
                  <div class="modal-transact-text-2">`+transaction.load_message+`</div>
                  <div class="modal-transact-text-2">`+transaction.amount+`</div>
                </div>
                <div class="transact-date">
                  <div class="date-time">`+transaction.datetime+`</div>
                  <div class="ref-num">Ref: `+transaction.ref+`</div>
                </div>
              </div>
            `);
          }
        }
      }
      xhr.send(dataForm); 


      
      // modal transaction
      $('#viewTransaction').click(function(){
        $('.modal-bg.accnt-mobile').css('display', 'flex')
      })

      $('#backModal').click(function(){
        $('.modal-bg.accnt-mobile').css('display', 'none')
      })

      
      $('#edit-profile').click(function(){
        $('#edit-user-mdoal').css('display', 'block')
      })
      $('#exit1').click(function(){
        $('#edit-user-mdoal').css('display', 'none')
      })

      // update profile
      $('#saveProfile').click(function(){
        var cName = $('#completeName').val();
        var password = $('#password').val();
        var reTypedPassword = $('#reTypedPassword').val();
        
        // check
        if(reTypedPassword != '' || password != ''){
          if(!password){   // input checker if empty
            swal("Empty Password", "Please input your password" , "error");
            return;
          } if(!reTypedPassword){   // input checker if empty
            swal("Please Retype Your Password", "Please retype your password" , "error");
            return;
          } if(password != reTypedPassword) {
            swal("Password not matched", "Please check your password inputs" , "error");
            return;
          } 

        }


        
        var dataForm = new FormData();
        dataForm.append("email", userEmail);
        dataForm.append("full_name", cName);
        dataForm.append("password", password);

        var xhr = new XMLHttpRequest();
        xhr.open("POST", PLAYER_API.UPDATE_PROFILE_PLAYER);
        xhr.onload = function(){
          console.log(this.response)
          var result = JSON.parse(this.response)
          if(result.message == "success"){
            swal("Update Successful", "You're account has been updated." , "success").then(
              () => {
                location.reload();
              }
            );            
            return;
          }
        }
        xhr.send(dataForm); 

      })
      // end of update profile







      
      // show pass
      $(".eye-link").click(function() {
        var passwordField = $("#password");
        var rPasswordField = $("#reTypedPassword");
        // Check the current type of the input field
        if (passwordField.attr("type") === "password") {
          // If it's currently a password field, change it to text
          passwordField.attr("type", "text");
          rPasswordField.attr("type", "text");
        } else {
          // If it's currently a text field, change it back to password
          passwordField.attr("type", "password");
          rPasswordField.attr("type", "password");
        }
      })











    })
  </script>
</body>
</html>